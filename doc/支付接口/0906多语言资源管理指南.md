# 多语言资源管理指南

## 📋 概述

本项目现已支持完整的16种语言，采用标准化的JSON文件结构进行多语言资源管理。

## 🌍 支持的语言

| 代码 | 语言 | 国旗 | 文件名 |
|------|------|------|--------|
| `zh` | 中文 | 🇨🇳 | zh.json |
| `en` | English | 🇺🇸 | en.json |
| `es` | Español | 🇪🇸 | es.json |
| `fr` | Français | 🇫🇷 | fr.json |
| `de` | Deutsch | 🇩🇪 | de.json |
| `ja` | 日本語 | 🇯🇵 | ja.json |
| `ko` | 한국어 | 🇰🇷 | ko.json |
| `it` | Italiano | 🇮🇹 | it.json |
| `pt` | Português | 🇵🇹 | pt.json |
| `ru` | Русский | 🇷🇺 | ru.json |
| `ar` | العربية | 🇦🇪 | ar.json |
| `hi` | हिन्दी | 🇮🇳 | hi.json |
| `tr` | Türkçe | 🇹🇷 | tr.json |
| `nl` | Nederlands | 🇳🇱 | nl.json |
| `he` | עברית | 🇮🇱 | he.json |
| `bg` | Български | 🇧🇬 | bg.json |

## 📁 文件结构

```
i18n/
├── index.js              # i18n核心系统
└── locales/              # 翻译文件目录
    ├── zh.json           # 中文翻译
    ├── en.json           # 英文翻译
    ├── es.json           # 西班牙文翻译
    ├── fr.json           # 法文翻译
    ├── de.json           # 德文翻译
    ├── ja.json           # 日文翻译
    ├── ko.json           # 韩文翻译
    ├── it.json           # 意大利文翻译
    ├── pt.json           # 葡萄牙文翻译
    ├── ru.json           # 俄文翻译
    ├── ar.json           # 阿拉伯文翻译
    ├── hi.json           # 印地文翻译
    ├── tr.json           # 土耳其文翻译
    ├── nl.json           # 荷兰文翻译
    ├── he.json           # 希伯来文翻译
    └── bg.json           # 保加利亚文翻译
```

## 🔧 翻译键值结构

所有语言文件都采用统一的键值结构：

```json
{
  "common": {
    "loading": "加载中...",
    "error": "错误",
    "success": "成功",
    "cancel": "取消",
    "confirm": "确认",
    "save": "保存",
    "edit": "编辑",
    "delete": "删除",
    "search": "搜索",
    "back": "返回",
    "next": "下一步",
    "previous": "上一步",
    "submit": "提交",
    "close": "关闭"
  },
  "header": {
    "brand": "方向探索派对",
    "tagline": "AI智能旅游探索",
    "login": "登录",
    "register": "注册",
    "profile": "个人资料",
    "logout": "退出登录",
    "language": "语言"
  },
  "homepage": {
    "title": "方向探索派对",
    "subtitle": "AI智能旅游探索，发现世界之美",
    "description": "使用AI技术探索世界各地的景点，体验沉浸式旅游规划",
    "getStarted": "开始探索",
    "features": {
      "title": "功能特色",
      "aiExploration": {
        "title": "AI智能探索",
        "description": "基于AI的智能景点推荐和路线规划"
      },
      "streetView": {
        "title": "街景体验",
        "description": "360度街景预览，身临其境感受目的地"
      },
      "photoGeneration": {
        "title": "AI合影生成",
        "description": "与著名景点生成个性化合影照片"
      },
      "multiLanguage": {
        "title": "多语言支持",
        "description": "支持16种语言，全球用户友好体验"
      }
    },
    "howItWorks": {
      "title": "如何使用",
      "step1": {
        "title": "选择目的地",
        "description": "选择您想要探索的城市或景点"
      },
      "step2": {
        "title": "AI智能推荐",
        "description": "AI为您推荐附近的热门景点"
      },
      "step3": {
        "title": "沉浸式体验",
        "description": "查看街景、生成合影，深度体验目的地"
      }
    }
  },
  "auth": {
    "loginTitle": "登录账号",
    "registerTitle": "创建账号",
    "noAccount": "还没有账号？",
    "hasAccount": "已有账号？",
    "registerNow": "立即注册",
    "loginNow": "立即登录",
    "emailPlaceholder": "邮箱地址",
    "passwordPlaceholder": "密码",
    "confirmPasswordPlaceholder": "确认密码",
    "usernamePlaceholder": "用户名",
    "login": "登录",
    "register": "注册",
    "welcomeBack": "欢迎回来",
    "joinUs": "加入我们",
    "forgotPassword": "忘记密码？",
    "backToHome": "返回首页",
    "loginSuccess": "登录成功！",
    "registerSuccess": "注册成功！",
    "registerDescription": "请填写您的信息来创建账号",
    "validation": {
      "emailRequired": "请输入邮箱地址",
      "emailInvalid": "请输入有效的邮箱地址",
      "passwordRequired": "请输入密码",
      "passwordConfirmRequired": "请确认密码",
      "passwordTooShort": "密码长度至少为6位",
      "usernameRequired": "请输入用户名",
      "usernameMinLength": "用户名至少3个字符"
    },
    "errors": {
      "loginFailed": "登录失败，请重试",
      "invalidCredentials": "邮箱或密码错误，请检查后重试",
      "registerFailed": "注册失败",
      "passwordMismatch": "两次输入的密码不一致",
      "emailAlreadyRegistered": "该邮箱已注册，请直接登录"
    }
  },
  "exploration": {
    "title": "探索景点",
    "currentLocation": "当前位置",
    "nearbyAttractions": "附近景点",
    "distance": "距离",
    "exploreHere": "漫游到这里",
    "generatePhoto": "生成合影",
    "viewStreetView": "查看街景",
    "doroPhoto": "Doro合影",
    "noAttractionsFound": "没有找到相关地点信息",
    "searching": "搜索中...",
    "loading": "加载中...",
    "noInfo": "暂无信息",
    "modernMode": "现代模式",
    "ancientMode": "古代模式",
    "futureMode": "未来模式"
  },
  "languageSelector": {
    "title": "选择语言和地区",
    "currentLanguage": "当前语言"
  },
  "profile": {
    "title": "个人资料",
    "username": "用户名",
    "email": "邮箱",
    "joinDate": "加入时间",
    "preferences": "偏好设置",
    "language": "语言偏好",
    "theme": "主题",
    "notifications": "通知设置",
    "save": "保存设置"
  },
  "settings": {
    "title": "设置",
    "general": "常规设置",
    "language": "语言设置",
    "theme": "主题设置",
    "notifications": "通知设置",
    "privacy": "隐私设置",
    "account": "账户设置",
    "about": "关于",
    "version": "版本",
    "feedback": "反馈",
    "help": "帮助",
    "support": "支持"
  },
  "navigation": {
    "home": "首页",
    "explore": "探索",
    "profile": "个人资料",
    "settings": "设置",
    "help": "帮助",
    "about": "关于"
  },
  "modals": {
    "close": "关闭",
    "confirm": "确认",
    "cancel": "取消",
    "save": "保存",
    "loading": "加载中...",
    "error": "错误",
    "success": "成功"
  },
  "errors": {
    "networkError": "网络连接错误",
    "serverError": "服务器错误",
    "notFound": "未找到",
    "unauthorized": "未授权",
    "forbidden": "禁止访问",
    "validationError": "验证错误",
    "unknownError": "未知错误"
  },
  "placeholders": {
    "searchCity": "搜索城市...",
    "searchAttraction": "搜索景点...",
    "enterEmail": "请输入邮箱地址",
    "enterPassword": "请输入密码",
    "enterUsername": "请输入用户名",
    "selectLanguage": "选择语言",
    "selectTheme": "选择主题"
  },
  "status": {
    "online": "在线",
    "offline": "离线",
    "connecting": "连接中...",
    "connected": "已连接",
    "disconnected": "已断开",
    "loading": "加载中...",
    "processing": "处理中...",
    "completed": "已完成",
    "failed": "失败"
  },
  "time": {
    "now": "现在",
    "today": "今天",
    "yesterday": "昨天",
    "tomorrow": "明天",
    "thisWeek": "本周",
    "thisMonth": "本月",
    "thisYear": "今年",
    "ago": "前",
    "in": "后"
  },
  "units": {
    "kilometer": "公里",
    "meter": "米",
    "mile": "英里",
    "hour": "小时",
    "minute": "分钟",
    "second": "秒",
    "day": "天",
    "week": "周",
    "month": "月",
    "year": "年"
  }
}
```

## 🚀 使用方法

### 1. 基本使用

```javascript
// 同步翻译（推荐用于已加载的翻译）
const text = i18n.tSync('common.loading'); // "加载中..."

// 异步翻译（支持动态加载）
const text = await i18n.t('auth.loginTitle'); // "登录账号"

// 带变量的翻译
const text = i18n.tSync('auth.welcomeBack', { username: 'John' }); // "欢迎回来, John"
```

### 2. 语言切换

```javascript
// 切换语言
i18n.changeLanguage('en');

// 获取当前语言
const currentLang = i18n.getCurrentLanguage();

// 获取支持的语言列表
const languages = i18n.getSupportedLanguages();
```

### 3. 预加载翻译

```javascript
// 预加载所有翻译文件
await i18n.preloadAllTranslations();

// 加载特定语言的翻译
await i18n.loadTranslations('ja');
```

## 📝 添加新翻译

### 1. 添加新的翻译键

1. 在 `zh.json` 中添加新的键值对
2. 在所有其他语言文件中添加对应的翻译
3. 确保键值结构保持一致

### 2. 添加新语言

1. 在 `i18n/index.js` 的 `supportedLanguages` 数组中添加新语言
2. 创建新的JSON文件（如 `xx.json`）
3. 复制 `zh.json` 的结构，翻译所有文本
4. 更新 `preload` 数组

## 🔍 翻译质量检查

### 1. 结构一致性检查

```bash
# 检查所有JSON文件的结构是否一致
for file in i18n/locales/*.json; do
  echo "Checking $file..."
  jq 'keys' "$file" | sort
done
```

### 2. 键值完整性检查

```javascript
// 检查所有语言文件是否包含相同的键
function validateTranslations() {
  const languages = ['zh', 'en', 'es', 'fr', 'de', 'ja', 'ko', 'it', 'pt', 'ru', 'ar', 'hi', 'tr', 'nl', 'he', 'bg'];
  const baseKeys = Object.keys(window.translations.zh);
  
  languages.forEach(lang => {
    const langKeys = Object.keys(window.translations[lang] || {});
    const missingKeys = baseKeys.filter(key => !langKeys.includes(key));
    if (missingKeys.length > 0) {
      console.warn(`Missing keys in ${lang}:`, missingKeys);
    }
  });
}
```

## 🛠️ 维护指南

### 1. 定期更新

- 每月检查翻译质量
- 根据用户反馈更新翻译
- 保持所有语言文件同步

### 2. 版本控制

- 每次更新翻译时记录变更日志
- 使用语义化版本号管理翻译文件
- 保持向后兼容性

### 3. 测试

- 在每种语言环境下测试UI显示
- 验证特殊字符和RTL语言（阿拉伯语、希伯来语）的显示
- 检查长文本的布局适应性

## 📊 统计信息

- **支持语言数量**: 16种
- **翻译键数量**: 约200个
- **文件总大小**: 约500KB
- **覆盖功能模块**: 8个主要模块

## 🎯 最佳实践

1. **命名规范**: 使用点号分隔的层级结构（如 `auth.loginTitle`）
2. **一致性**: 保持所有语言文件的键值结构完全一致
3. **可读性**: 使用有意义的键名，避免缩写
4. **维护性**: 定期清理未使用的翻译键
5. **性能**: 优先使用同步翻译函数，异步翻译用于动态加载

## 🔗 相关文件

- `i18n/index.js` - i18n核心系统
- `i18n/locales/*.json` - 各语言翻译文件
- `index.html` - 主页面多语言集成
- `auth-modal.html` - 登录页面多语言集成
- `styles.css` - 多语言样式支持

---

*最后更新: 2025年9月6日*
*维护者: AI助手*
